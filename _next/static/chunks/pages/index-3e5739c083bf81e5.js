(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{4184:function(t,r){var n; /*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/ !function(){"use strict";var e={}.hasOwnProperty;function a(){for(var t=[],r=0;r<arguments.length;r++){var n=arguments[r];if(n){var i=typeof n;if("string"===i||"number"===i)t.push(n);else if(Array.isArray(n)){if(n.length){var u=a.apply(null,n);u&&t.push(u)}}else if("object"===i){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){t.push(n.toString());continue}for(var o in n)e.call(n,o)&&n[o]&&t.push(o)}}}return t.join(" ")}t.exports?(a.default=a,t.exports=a):void 0!==(n=(function(){return a}).apply(r,[]))&&(t.exports=n)}()},8312:function(t,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(6509)}])},6509:function(t,r,n){"use strict";n.r(r),n.d(r,{default:function(){return x}});var e=n(5893),a=n(7294),i=n(669),u=function(){var t=(0,a.useContext)(i.Global),r=t.start;t.setStart;var n=(0,a.useState)(0),u=n[0],o=n[1],l=(0,a.useRef)(null);return(0,a.useEffect)(function(){r?(o(0),l.current=setInterval(function(){o(function(t){return t+1})},1e3)):clearInterval(l.current)},[r]),(0,e.jsxs)("div",{className:"timer",children:[(0,e.jsx)("span",{className:"digit digit-".concat(u>999?9:Math.floor(u/100))}),(0,e.jsx)("span",{className:"digit digit-".concat(u>999?9:Math.floor(u%100/10))}),(0,e.jsx)("span",{className:"digit digit-".concat(u>999?9:u%10)})]})},o=function(){return(0,e.jsxs)("div",{className:"flagCount",children:[(0,e.jsx)("span",{className:"digit digit-0"}),(0,e.jsx)("span",{className:"digit digit-1"}),(0,e.jsx)("span",{className:"digit digit-0"})]})},l=n(4924);function s(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,e=Array(r);n<r;n++)e[n]=t[n];return e}function f(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,r){if(t){if("string"==typeof t)return s(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,r)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var c=n(4184),v=n.n(c),m=function(t,r,n,e,a){var i=f(e),u=function(t,r){if(0===n[t][r]){i[t][r]=!0;for(var e=[-1,-1,0,1,1,1,0,-1],o=[0,1,1,1,0,-1,-1,-1],l=0;l<9;l++){var s=t+e[l],f=r+o[l];s>=0&&f>=0&&s<9&&f<9&&!i[s][f]&&!a[s][f]&&(i[s][f]=!0,u(s,f))}}};return u(t,r),i},d=function(t){for(var r=0,n=0;n<t.length;n++)for(var e=0;e<t[n].length;e++)!0===t[n][e]&&(r+=1);return r},p=function(t){var r,n=t.game,u=t.r,o=t.c,s=t.setResult,c=t.result,p=t.mine,y=(0,a.useContext)(i.Global),g=y.start,h=y.setStart,b=(0,a.useState)(0),x=b[0],j=b[1],S=(0,a.useState)(Array(u).fill(!1).map(function(){return Array(o).fill(!1)})),N=S[0],A=S[1],w=(0,a.useState)(Array(u).fill(!1).map(function(){return Array(o).fill(!1)})),_=w[0],C=w[1];(0,a.useEffect)(function(){if(n){var t=Array(u).fill(!1).map(function(){return Array(o).fill(!1)});A(t);var r=Array(u).fill(!1).map(function(){return Array(o).fill(!1)});C(r)}},[n]),(0,a.useEffect)(function(){h&&u*o-p===x&&(s("win"),h(!1))},[x]);var E=function(t){if(n&&h&&"default"===c){g||h(!0);var r=Number(t.currentTarget.attributes[1].value),e=Number(t.currentTarget.attributes[0].value);if(!_[r][e]){var a=f(N);if(0===n[r][e]){var i=m(r,e,n,a,_),u=d(i);j(u),A(i)}else"mine"===n[r][e]?(a[r][e]=!0,A(a),s("lose"),h(!1)):(a[r][e]=!0,j(function(t){return t+1}),A(a))}}},k=function(t){if(h){t.preventDefault(),g||h(!0);var r=f(_),n=Number(t.currentTarget.attributes[1].value),e=Number(t.currentTarget.attributes[0].value);!N[n][e]&&(r[n][e]=!r[n][e],C(r))}};return n?(0,e.jsx)("ul",{className:"grid",children:n.map(function(t,r){var a,i;return(0,e.jsx)("li",{children:(0,e.jsx)("ul",{children:t.map(function(t,a){var i,u=v()("minebox",(i={},(0,l.Z)(i,"open value-".concat(n[a][r]),N[a][r]),(0,l.Z)(i,"close",!N[a][r]),(0,l.Z)(i,"flag",!N[a][r]&&_[a][r]),i));return(0,e.jsx)("li",{"data-y":r,"data-x":a,onClick:E,onContextMenu:k,className:u},"row".concat(a))})})},r)})}):(0,e.jsx)(e.Fragment,{})},y=function(t){return Math.floor(Math.random()*t)},g=function(t,r,n){for(var e=[];e.length<n;){var a=y(t),i=y(r),u=[a,i];if(e.length){var o=!1,l=!0,s=!1,f=void 0;try{for(var c,v=e[Symbol.iterator]();!(l=(c=v.next()).done);l=!0){var m=c.value;if(m[0]===a&&m[1]===i){o=!0;break}}}catch(d){s=!0,f=d}finally{try{l||null==v.return||v.return()}finally{if(s)throw f}}o||e.push(u)}else e.push(u)}return e},h=function(t,r,n,e,a){for(var i=0,u=[-1,-1,0,1,1,1,0,-1],o=[0,1,1,1,0,-1,-1,-1],l=0;l<8;l++){var s=t+u[l],f=r+o[l];s>=0&&f>=0&&s<n&&f<e&&"mine"===a[s][f]&&(i+=1)}return i},b=function(t,r,n){var e=Array(t).fill(0).map(function(){return Array(r).fill(0)}),a=g(t,r,n),i=!0,u=!1,o=void 0;try{for(var l,s=a[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var f=l.value;e[f[0]][f[1]]="mine"}}catch(c){u=!0,o=c}finally{try{i||null==s.return||s.return()}finally{if(u)throw o}}for(var v=0;v<t;v++)for(var m=0;m<r;m++)"mine"!==e[v][m]&&(e[v][m]=h(v,m,t,r,e));return e},x=function(){var t=(0,a.useContext)(i.Global),r=t.start,n=t.setStart,l=(0,a.useState)(),s=l[0],f=l[1],c=(0,a.useState)("default"),m=c[0],d=c[1],y=(0,a.useState)(9),g=y[0];y[1];var h=(0,a.useState)(9),x=h[0];h[1];var j=(0,a.useState)(10),S=j[0];j[1],(0,a.useEffect)(function(){f(b(g,x,S))},[]);var N=function(){r&&n&&n(!1),d("default"),f(b(g,x,S))},A=v()("control",{lose:"lose"===m,win:"win"===m});return(0,e.jsxs)("div",{className:"container",children:[(0,e.jsxs)("div",{className:"top",style:{"--mine-columns":x},children:[(0,e.jsx)(o,{}),(0,e.jsx)("button",{className:A,onClick:N}),(0,e.jsx)(u,{})]}),(0,e.jsx)(p,{game:s,r:g,c:x,setResult:d,result:m,mine:S})]})}}},function(t){t.O(0,[774,888,179],function(){return t(t.s=8312)}),_N_E=t.O()}]);